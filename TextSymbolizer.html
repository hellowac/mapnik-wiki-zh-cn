<!doctype html>
<html class="no-js" lang="zh-CN" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="索引" href="genindex.html" /><link rel="search" title="搜索" href="search.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>Text Symbolizer - mapnik-wiki-zh-cn 1.0 文档</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">mapnik-wiki-zh-cn 1.0 文档</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">mapnik-wiki-zh-cn 1.0 文档</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Introductory Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="About-Mapnik.html">About Mapnik</a></li>
<li class="toctree-l1"><a class="reference internal" href="Mapnik-Installation.html">Mapnik Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="LearningMapnik.html">Learning Mapnik</a></li>
<li class="toctree-l1"><a class="reference internal" href="Notes-and-caveats.html">Notes and caveats</a></li>
<li class="toctree-l1"><a class="reference internal" href="Related-projects-and-utilities.html">Related projects and utilties</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Mapnik API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="XMLConfigReference.html">Mapnik configuration XML</a></li>
<li class="toctree-l1"><a class="reference internal" href="SymbologySupport.html">Symbology Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="PluginArchitecture.html">Plugin Architecture</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/mapnik/mapnik/blob/master/INSTALL.md">Building Mapnik</a></li>
<li class="toctree-l1"><a class="reference internal" href="Mapnik2.html">Mapnik2</a></li>
<li class="toctree-l1"><a class="reference internal" href="Development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="MapnikReleases.html">Mapnik Releases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://groups.google.com/forum/#!forum/mapnik">Mailing List</a></li>
<li class="toctree-l1"><a class="reference external" href="http://webchat.freenode.net/?channels=#mapnik">#mapnik channel on irc.freenode.net Webchat</a></li>
<li class="toctree-l1"><a class="reference internal" href="Code-sprint.html">Code sprint</a></li>
<li class="toctree-l1"><a class="reference external" href="http://173.255.217.246:8000/mapnik_trac/wiki/MapnikCodeSprint/MCS01">Code sprint 2010 - Committers and Cartographers London, England, 24-26 September 2010</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/TextSymbolizer.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section class="tex2jax_ignore mathjax_ignore" id="text-symbolizer">
<h1>Text Symbolizer<a class="headerlink" href="#text-symbolizer" title="Link to this heading">¶</a></h1>
<p><a class="reference internal" href="SymbologySupport.html"><span class="doc std std-doc">Symbolizer</span></a> that specifies rendering of text at a point or along a line (for example, for a road name).</p>
<p><img alt="" src="_images/output_old.png" /></p>
<section id="configuration-options">
<h2>Configuration Options<a class="headerlink" href="#configuration-options" title="Link to this heading">¶</a></h2>
<section id="options-for-whole-symbolizer">
<h3>Options for whole Symbolizer<a class="headerlink" href="#options-for-whole-symbolizer" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><em>parameter</em></p></th>
<th class="head"><p><em>values/ type</em></p></th>
<th class="head"><p><em>description</em></p></th>
<th class="head"><p><em>unit</em></p></th>
<th class="head"><p><em>default</em></p></th>
<th class="head"><p><em>version</em></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>spacing</p></td>
<td><p>double</p></td>
<td><p>Space between repeated labels. If spacing is 0 only one label is placed.</p></td>
<td><p>px</p></td>
<td><p>0</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>label-position-tolerance</p></td>
<td><p>double</p></td>
<td><p>Allow labels to be moved from their point in line placement. Lower values indicate that Mapnik tries less positions and generally leads to fewer labels. Higher values lead to Mapnik trying more different positions along a line to find a free spot. If unset or 0, Mapnik sets this value based on the total length of the line to ensure enough labels are placed.</p></td>
<td><p>?</p></td>
<td><p>0</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>force-odd-labels</p></td>
<td><p>true, false</p></td>
<td><p>Force an odd amount of labels to be generated.</p></td>
<td><p>bool</p></td>
<td><p>false</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>max-char-angle-delta</p></td>
<td><p>double</p></td>
<td><p>Maximum angle (in degrees) between two consecutive characters in a label allowed. The lower the number the fewer labels placed - this is to stop placing labels around sharp corners.</p></td>
<td><p>degree</p></td>
<td><p>22.5</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>halo-rasterizer</p></td>
<td><p>fast, full</p></td>
<td><p>(Only for AGG renderer) Choose between good and fast halo rasterizer. Both produce equally good results for halo-radius &lt;= 1.0. Only full rasterizer supports fractional values &gt; 1.0. Other values are truncated by fast rasterizer (e.g. 1.8px = 1px). <a class="reference external" href="https://raw.github.com/mapnik/mapnik/master/tests/visual_tests/images/text-halo-rasterizer-600-400-1.0-agg-reference.png">Visual comparision</a></p></td>
<td><p></p></td>
<td><p>full</p></td>
<td><p>git only (2013-04-25)</p></td>
</tr>
<tr class="row-odd"><td><p>displacement</p></td>
<td><p>(x,y)/tuple</p></td>
<td><p>Move text position by this many pixels</p></td>
<td><p>px</p></td>
<td><p>(0,0)</p></td>
<td><p>2.1</p></td>
</tr>
<tr class="row-even"><td><p>avoid-edges</p></td>
<td><p>true, false</p></td>
<td><p>Boolean to avoid labeling near intersection edges</p></td>
<td><p>bool</p></td>
<td><p>false</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>margin</p></td>
<td><p>double</p></td>
<td><p>Minimum distance that a label can be placed from any other label or shield (works across features)</p></td>
<td><p>px</p></td>
<td><p>0.0</p></td>
<td><p>3.0</p></td>
</tr>
<tr class="row-even"><td><p>repeat-distance</p></td>
<td><p>double</p></td>
<td><p>Minimum distance between repeated labels such as street names or shield symbols (works across features)</p></td>
<td><p>px</p></td>
<td><p>0.0</p></td>
<td><p>3.0</p></td>
</tr>
<tr class="row-odd"><td><p>allow-overlap</p></td>
<td><p>true, false</p></td>
<td><p>Allow labels to overlap other labels - Note: you can also clear the label collision cache at the LAYER level to promote more overlap. See 'clear-label-cache' at <a class="reference internal" href="XMLConfigReference.html"><span class="doc std std-doc">XMLConfigReference</span></a> part layer</p></td>
<td><p>bool</p></td>
<td><p>false</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>placement</p></td>
<td><p>line, point, vertex, interior</p></td>
<td><p>&quot;line&quot; to label along lines instead of by point. TODO: Document other options.</p></td>
<td><p></p></td>
<td><p>point</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>opacity</p></td>
<td><p>double</p></td>
<td><p>1 is fully opaque while zero is fully transparent and .5 would be 50% transparent</p></td>
<td><p></p></td>
<td><p>1</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>minimum-padding</p></td>
<td><p>double</p></td>
<td><p>if &gt;0 helps prevents a label (or shield) from being placed too near the edge of the map.</p></td>
<td><p>px</p></td>
<td><p>0.0</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>minimum-path-length</p></td>
<td><p>double</p></td>
<td><p>place labels only on paths longer than this value.</p></td>
<td><p>px</p></td>
<td><p>0.0</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>placement-type</p></td>
<td><p>dummy, simple, list</p></td>
<td><p>Placement finder algorithm. Currently supported: &quot;dummy&quot; (one placement only), &quot;simple&quot; (automatically create new positions using a simple configuration; see below) and &quot;list&quot; (mapnik &gt;=2.1, see below)</p></td>
<td><p>string</p></td>
<td><p>dummy</p></td>
<td><p>2.0/2.1</p></td>
</tr>
<tr class="row-odd"><td><p>placements</p></td>
<td><p>string</p></td>
<td><p>List of possible placements. Only valid if placement-type=&quot;simple&quot; is used. See below for syntax.</p></td>
<td><p></p></td>
<td><p>&quot;X&quot;</p></td>
<td><p>2.0</p></td>
</tr>
<tr class="row-even"><td><p>upright</p></td>
<td><p>left, right, auto, left_only, right_only</p></td>
<td><p>Select which way direction is used to place characters upright. The XXX_only variants place text only if more than 50% of all character are upright. Together with placement-type=&quot;list&quot; this can be used to implement alternate texts. See below for an example.</p></td>
<td><p></p></td>
<td><p>auto</p></td>
<td><p>harfbuzz</p></td>
</tr>
<tr class="row-odd"><td><p>clip</p></td>
<td><p>true, false</p></td>
<td><p>If true then the geometry is clipped to the view before doing placements. Improves performance but can cause bad placements when the results are used for tiling</p></td>
<td><p>bool</p></td>
<td><p>true</p></td>
<td><p>2.0.0</p></td>
</tr>
<tr class="row-even"><td><p>largest-bbox-only</p></td>
<td><p>true, false</p></td>
<td><p>controls default labeling behavior on multipolygons. The default is <code class="docutils literal notranslate"><span class="pre">true</span></code> and means that only the largest polygon part is labeled. NOTE: this option may change or be renamed in the future</p></td>
<td><p>bool</p></td>
<td><p>true</p></td>
<td><p>2.1</p></td>
</tr>
<tr class="row-odd"><td><p>comp-op</p></td>
<td><p></p></td>
<td><p><a class="reference internal" href="Compositing.html"><span class="doc std std-doc">Compositing</span></a></p></td>
<td><p></p></td>
<td><p>none</p></td>
<td><p>2.1</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="text-layout-options">
<h3>Text layout options<a class="headerlink" href="#text-layout-options" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><em>parameter</em></p></th>
<th class="head"><p><em>values/ type</em></p></th>
<th class="head"><p><em>description</em></p></th>
<th class="head"><p><em>unit</em></p></th>
<th class="head"><p><em>default</em></p></th>
<th class="head"><p><em>version</em></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>dx, dy</p></td>
<td><p>double</p></td>
<td><p>Displace label by fixed amount on either axis. Actual displacement also depends on vertical-alignment and horizontal-alignment</p></td>
<td><p>px</p></td>
<td><p>0.0</p></td>
<td><p>0.7</p></td>
</tr>
<tr class="row-odd"><td><p>vertical-alignment</p></td>
<td><p>top, middle, bottom, auto</p></td>
<td><p>Position of label relative to point position. &quot;auto&quot; is &quot;middle&quot; for dy=0, &quot;bottom&quot; for dy&gt;0, &quot;top&quot; for dy&lt;0</p></td>
<td><p></p></td>
<td><p>auto</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>horizontal-alignment</p></td>
<td><p>left, middle, right, auto</p></td>
<td><p>Position of label relative to point position</p></td>
<td><p></p></td>
<td><p>auto</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>justify-alignment</p></td>
<td><p>left, center, right, auto</p></td>
<td><p>Justify multi-line text</p></td>
<td><p></p></td>
<td><p>auto</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>text-ratio</p></td>
<td><p>double</p></td>
<td><p>Try to keep a given height to width ratio. Use 0 to disable this feature.</p></td>
<td><p>ratio</p></td>
<td><p>0</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>wrap-width</p></td>
<td><p>double</p></td>
<td><p>Length before wrapping long names. Use 0 to disable this feature.</p></td>
<td><p>px</p></td>
<td><p>0</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>wrap-before</p></td>
<td><p>true,false</p></td>
<td><p>Wrap text before wrap-width is reached. If this setting is off your lines will always be a bit longer than wrap-width. If this setting is on the lines will usually be a bit shorter, but can be longer if there is a single word that is longer than your current line limit.</p></td>
<td><p>bool</p></td>
<td><p>false</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>orientation</p></td>
<td><p>double</p></td>
<td><p>Rotate text.</p></td>
<td><p>degree</p></td>
<td><p>0</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>rotate-displacement</p></td>
<td><p>true, false</p></td>
<td><p>Rotates the displacement around the placement origin by the angle given by &quot;orientation&quot;.</p></td>
<td><p>bool</p></td>
<td><p>false</p></td>
<td><p>harfbuzz</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="character-formatting-options">
<h3>Character formatting options<a class="headerlink" href="#character-formatting-options" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><em>parameter</em></p></th>
<th class="head"><p><em>values/ type</em></p></th>
<th class="head"><p><em>description</em></p></th>
<th class="head"><p><em>unit</em></p></th>
<th class="head"><p><em>default</em></p></th>
<th class="head"><p><em>version</em></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>face-name</p></td>
<td><p>string</p></td>
<td><p>Font name (font must be registered in mapnik or you won't see anything. see <a class="reference internal" href="UsingCustomFonts.html"><span class="doc std std-doc">UsingCustomFonts</span></a>)</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>fontset-name</p></td>
<td><p>string</p></td>
<td><p>FontSet name</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>size</p></td>
<td><p>double</p></td>
<td><p>Font size</p></td>
<td><p>px</p></td>
<td><p>10.0</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>fill</p></td>
<td><p>color</p></td>
<td><p>Color of the text fill, e.g. #FFFFFF</p></td>
<td><p></p></td>
<td><p>black</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>halo-fill</p></td>
<td><p>color</p></td>
<td><p>Color of the text halo, e.g. rgba(255,255,255,0.5)</p></td>
<td><p></p></td>
<td><p>white</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>halo-radius</p></td>
<td><p>double</p></td>
<td><p>Radius of the halo in pixels (Fractional pixels are accepted. See halo-rasterizer for limitations.)</p></td>
<td><p>px</p></td>
<td><p>0</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>halo-comp-op</p></td>
<td><p>string</p></td>
<td><p>Composition only with the halo</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>character-spacing</p></td>
<td><p>double</p></td>
<td><p>Additional horizontal spacing between characters. Currently works for point placement only, not line placement. You will get the normal spacing defined by the font plus this amount of extra space. (Also works for line placements in harfbuzz branch.)</p></td>
<td><p>px</p></td>
<td><p>0</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>line-spacing</p></td>
<td><p>double</p></td>
<td><p>Vertical spacing between lines of multi-line labels. This spacing is in addition to the normal font line spacing</p></td>
<td><p>px</p></td>
<td><p>0</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>wrap-character</p></td>
<td><p>char</p></td>
<td><p>Use this character instead of a space to wrap long names. (Harfbuzz branch ignores this and uses Unicode rules for line breaks.)</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>text-transform</p></td>
<td><p>none, uppercase, lowercase, capitalize</p></td>
<td><p>Allows conversion of text to lower or upper case before display.</p></td>
<td><p></p></td>
<td><p>none</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="deprecated-options">
<h3>Deprecated options<a class="headerlink" href="#deprecated-options" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><em>parameter</em></p></th>
<th class="head"><p><em>values/ type</em></p></th>
<th class="head"><p><em>description</em></p></th>
<th class="head"><p><em>unit</em></p></th>
<th class="head"><p><em>default</em></p></th>
<th class="head"><p><em>version</em></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>name</p></td>
<td><p>expression</p></td>
<td><p>This is the query field you want to use for the label text, e.g. &quot;street_name&quot; (deprecated in Mapnik2, see section &quot;new syntax&quot; below)</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>minimum-distance</p></td>
<td><p>double</p></td>
<td><p>Point placement: Minimum distance that a label can be placed from any other label or shield<br/> Line placement: Minimum distance between repeated labels such as street names or shield symbols<br/> (works across features)</p></td>
<td><p>px</p></td>
<td><p>0.0</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h2>
<section id="xml">
<h3>XML<a class="headerlink" href="#xml" title="Link to this heading">¶</a></h3>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;TextSymbolizer</span>
<span class="w">    </span><span class="na">face-name=</span><span class="s">&quot;DejaVu Sans Book&quot;</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;black&quot;</span><span class="w"> </span>
<span class="w">    </span><span class="na">halo-fill=</span><span class="s">&quot;white&quot;</span><span class="w"> </span><span class="na">halo-radius=</span><span class="s">&quot;1&quot;</span>
<span class="w">    </span><span class="na">placement=</span><span class="s">&quot;line&quot;</span><span class="w"> </span><span class="na">allow-overlap=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>[FIELD_NAME]
<span class="nt">&lt;/TextSymbolizer&gt;</span>
</pre></div>
</div>
</section>
<section id="python-mapnik-2">
<h3>Python (Mapnik 2)<a class="headerlink" href="#python-mapnik-2" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">TextSymbolizer</span><span class="p">(</span><span class="n">Expression</span><span class="p">(</span><span class="s1">&#39;[FIELD_NAME]&#39;</span><span class="p">),</span> <span class="s1">&#39;DejaVu Sans Book&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">Color</span><span class="p">(</span><span class="s1">&#39;black&#39;</span><span class="p">))</span>
<span class="n">t</span><span class="o">.</span><span class="n">halo_fill</span> <span class="o">=</span> <span class="n">Color</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">halo_radius</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">t</span><span class="o">.</span><span class="n">label_placement</span> <span class="o">=</span> <span class="n">label_placement</span><span class="o">.</span><span class="n">LINE_PLACEMENT</span> <span class="c1"># POINT_PLACEMENT is default</span>
<span class="nb">dir</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="c1"># for the rest of the attributes</span>
</pre></div>
</div>
</section>
<section id="python-mapnik-3">
<h3>Python (Mapnik 3)<a class="headerlink" href="#python-mapnik-3" title="Link to this heading">¶</a></h3>
<p><em>No support.</em></p>
</section>
<section id="c">
<h3>C++<a class="headerlink" href="#c" title="Link to this heading">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;mapnik/map.hpp&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;mapnik/font_engine_freetype.hpp&gt;</span>

<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">mapnik</span><span class="p">;</span>
<span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">freetype_engine</span><span class="o">::</span><span class="n">register_font</span><span class="p">(</span><span class="s">&quot;/path/to/font.ttf&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="cm">/* some code */</span>
<span class="w">   </span><span class="n">rule_type</span><span class="w"> </span><span class="n">rule</span><span class="p">;</span>
<span class="w">   </span><span class="n">text_symbolizer</span><span class="w"> </span><span class="n">ts</span><span class="p">(</span><span class="s">&quot;[FIELD_NAME]&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;DejaVu Sans Book&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">));</span>
<span class="w">   </span><span class="n">ts</span><span class="p">.</span><span class="n">set_halo_fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">));</span>
<span class="w">   </span><span class="n">ts</span><span class="p">.</span><span class="n">set_halo_radius</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="w">   </span><span class="n">rule</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">ts</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The first parameter is the field name of a database field, or from a shape file, or an OSM file. In case of a shape file or OSM file, the field name is case sensitive.
You must load the needed fonts first, otherwise you'll get a run time error. But you can load as many true type fonts as you like. Mapnik is coming with a couple of fonts in &quot;mapnik/fonts&quot;. I recommend to load all of this fonts, regardless if you need them or not.</p>
</section>
</section>
<section id="placements">
<h2>Placements<a class="headerlink" href="#placements" title="Link to this heading">¶</a></h2>
<p>In Mapnik 2 the possibility to try different placements if the text can't be placed at the intended position is introduced.</p>
<p>Algorithms:</p>
<section id="simple">
<h3>Simple<a class="headerlink" href="#simple" title="Link to this heading">¶</a></h3>
<p>(This is the only algorithm supported in Mapnik 2.0)
It expects a string to specify which positions and size should be used. The format is POSITIONS,[SIZES].
POSITIONS is any combination of N, E, S, W, NE, SE, NW, SW (direction) and X (exact position as give by &quot;displacement&quot;) (separated by commas, may not be empty).</p>
<p>[SIZE] is a optional list of font sizes, separated by commas. The first font size is always the one given in the TextSymbolizer parameters.</p>
<p>First all directions are tried, then font size is reduced and all directions are tried again. The process ends when a placement is found or the last font size is tried without success.</p>
<p>For this algorithm horizontal-alignment and vertical-alignment should be set to &quot;auto&quot;.</p>
<p>Examples:</p>
<ul class="simple">
<li><p>&quot;N,S,15,10,8&quot; (tries placement above with font-size give in &quot;size&quot; tag, then below and if that fails it tries placement above with size 15, then blow with size 15, above with 10, ...).</p></li>
<li><p>&quot;N,S&quot; (only font size from &quot;size&quot; tag)</p></li>
<li><p>&quot;X,10,5&quot; (keep position, but try to reduce size)</p></li>
<li><p><em>Invalid:</em> &quot;10,5&quot; (no position specified)</p></li>
</ul>
<p>Note: Whitespace is ignored, e.g. &quot;N,S,15,10&quot; and &quot;N, S,15,10&quot; and &quot;N, S, 15, 10&quot; are equivalent.</p>
<p>An XML example might look like:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;TextSymbolizer</span><span class="w"> </span>
<span class="w">  </span><span class="na">allow-overlap=</span><span class="s">&quot;false&quot;</span>
<span class="w">  </span><span class="na">face-name=</span><span class="s">&quot;DejaVu Sans Book&quot;</span>
<span class="w">  </span><span class="na">placement-type=</span><span class="s">&quot;simple&quot;</span>
<span class="w">  </span><span class="na">placements=</span><span class="s">&quot;N,S,15,10,8&quot;</span>
<span class="nt">&gt;</span>[label]<span class="nt">&lt;/TextSymbolizer&gt;</span>
</pre></div>
</div>
</section>
<section id="list">
<h3>List<a class="headerlink" href="#list" title="Link to this heading">¶</a></h3>
<p>(Supported starting with Mapnik 2.1)
Here a list of styles is defined and tried one by one till a valid position is found. Each style inherits from the previous one.</p>
<p>It is defined in XML by:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;TextSymbolizer</span><span class="w"> </span><span class="na">face-name=</span><span class="s">&quot;DejaVu Sans Book&quot;</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;16&quot;</span><span class="w"> </span><span class="na">placement=</span><span class="s">&quot;point&quot;</span><span class="w"> </span><span class="na">dy=</span><span class="s">&quot;8&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;blue&quot;</span><span class="w"> </span><span class="na">placement-type=</span><span class="s">&quot;list&quot;</span><span class="nt">&gt;</span>[name]
<span class="w">    </span><span class="nt">&lt;Placement</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">dy=</span><span class="s">&quot;-8&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;red&quot;</span><span class="nt">/&gt;</span><span class="cm">&lt;!-- Reduces text size and changes offset --&gt;</span>
<span class="w">    </span><span class="nt">&lt;Placement</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;green&quot;</span><span class="nt">&gt;</span>[abbreviated_name]<span class="nt">&lt;/Placement&gt;</span><span class="w"> </span><span class="cm">&lt;!-- size=&quot;10&quot;, dy=&quot;-8&quot;, fill=&quot;green&quot;, shorter text --&gt;</span>
<span class="w">    </span><span class="nt">&lt;Placement</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;orange&quot;</span><span class="w"> </span><span class="na">dy=</span><span class="s">&quot;8&quot;</span><span class="nt">&gt;</span>[nr]<span class="nt">&lt;/Placement&gt;</span><span class="w"> </span><span class="cm">&lt;!-- size=&quot;10&quot;, dy=&quot;8&quot;, fill=&quot;orange&quot;, shortest text --&gt;</span>
<span class="nt">&lt;/TextSymbolizer&gt;</span>
</pre></div>
</div>
<p>(Note [abbreviated_name] and [nr] have to be supplied by the data source!)</p>
</section>
</section>
<section id="new-syntax">
<h2>New syntax<a class="headerlink" href="#new-syntax" title="Link to this heading">¶</a></h2>
<p>Starting with Mapnik 2.0 a new syntax is used:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;TextSymbolizer</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;[label]&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>becomes</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;TextSymbolizer&gt;</span>[label]<span class="nt">&lt;/TextSymbolizer&gt;</span>
</pre></div>
</div>
<p>This change was made to be forward compatible with changes to text formatting being introduced in later versions.</p>
</section>
<section id="alternate-texts-for-upside-down-rendering">
<h2>Alternate texts for upside down rendering<a class="headerlink" href="#alternate-texts-for-upside-down-rendering" title="Link to this heading">¶</a></h2>
<p>If some of your text depends on the line direction you need to supply different texts for each direction. This can be done like this:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;TextSymbolizer</span><span class="w"> </span><span class="na">face-name=</span><span class="s">&quot;DejaVu Sans Book&quot;</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;10&quot;</span><span class="w"> </span>
<span class="w">   </span><span class="na">placement=</span><span class="s">&quot;line&quot;</span><span class="w"> </span><span class="na">upright=</span><span class="s">&quot;left_only&quot;</span><span class="w"> </span><span class="na">placement-type=</span><span class="s">&quot;list&quot;</span><span class="nt">&gt;</span>
<span class="w">       </span>&quot;left<span class="w"> </span>only<span class="w"> </span><span class="ni">&amp;lt;</span>--&quot;
<span class="w">       </span><span class="nt">&lt;Placement</span><span class="w"> </span><span class="na">upright=</span><span class="s">&quot;right_only&quot;</span><span class="nt">&gt;</span>&quot;right<span class="w"> </span>only<span class="w"> </span>--<span class="ni">&amp;gt;</span>&quot;<span class="nt">&lt;/Placement&gt;</span>
<span class="nt">&lt;/TextSymbolizer&gt;</span>
</pre></div>
</div>
</section>
<section id="new-features-in-mapnik-3-x">
<h2>New features in Mapnik 3.x<a class="headerlink" href="#new-features-in-mapnik-3-x" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>upright=&quot;auto/left/right&quot; (See table above)</p></li>
<li><p>dx is also used for line placements</p></li>
<li><p>Multi-line support for line placements</p></li>
<li><p>New parameter <code class="docutils literal notranslate"><span class="pre">rotate-displacement=&quot;true/false&quot;</span></code></p></li>
<li><p>Parameters now supported for <code class="docutils literal notranslate"><span class="pre">line</span></code> placement (that only previously supported for <code class="docutils literal notranslate"><span class="pre">point</span></code> placement): justify-alignment, vertical-alignment, text-ratio, wrap-width, wrap-before</p></li>
<li><p>Line offsets are real offsets instead of fake offsets imitated by calculating the average angle</p></li>
<li><p>If dy!=&quot;0&quot; you have to set vertical-alignment=&quot;middle&quot; to get the same behavior as in previous versions.</p></li>
</ul>
</section>
<section id="layouts">
<h2>Layouts<a class="headerlink" href="#layouts" title="Link to this heading">¶</a></h2>
<p>Additional text layouts can be defined in the contents of text symbolizer. Each of these can be assigned any of the text layout attributes listed above. Rather than being alternate placements, each layout is drawn as part of a single placement. This means that all of the text layouts must fit in order for any of them to be drawn. Different configurations of layout nodes can be specified for each alternate placement. Multiple text layouts are compatible with point and line placements.</p>
<p>A simple XML example:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;TextSymbolizer</span><span class="w"> </span><span class="na">face-name=</span><span class="s">&quot;DejaVu Sans Book&quot;</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;12&quot;</span><span class="w"> </span><span class="na">placement=</span><span class="s">&quot;line&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;Layout</span><span class="w"> </span><span class="na">dy=</span><span class="s">&quot;-5&quot;</span><span class="nt">&gt;</span>[LEFT_NAME]<span class="nt">&lt;/Layout&gt;</span>
<span class="w">    </span><span class="nt">&lt;Layout</span><span class="w"> </span><span class="na">dy=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;</span>[RIGHT_NAME]<span class="nt">&lt;/Layout&gt;</span>
<span class="nt">&lt;/TextSymbolizer&gt;</span>
</pre></div>
</div>
<p>The above specifies two offset text layouts to be placed along opposite sides of a line.</p>
</section>
<section id="formats">
<h2>Formats<a class="headerlink" href="#formats" title="Link to this heading">¶</a></h2>
<p>When you want to change attributes within the text symbolizer, you can use the <code class="docutils literal notranslate"><span class="pre">&lt;Format&gt;</span></code> element.
Example</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;TextSymbolizer</span><span class="w"> </span><span class="na">placement=</span><span class="s">&quot;point&quot;</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;20&quot;</span><span class="w"> </span><span class="na">face-name=</span><span class="s">&quot;DejaVu Sans Book&quot;</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;black&quot;</span><span class="w"> </span><span class="na">justify-alignment=</span><span class="s">&quot;center&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span>[name]<span class="w"> </span>+<span class="w"> </span>&quot;\n&quot;<span class="w"> </span><span class="nt">&lt;Format</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>&quot;(&quot;<span class="w"> </span>+<span class="w"> </span>[ele]<span class="w"> </span>+<span class="w"> </span>&quot;)&quot;<span class="nt">&lt;/Format&gt;</span>
<span class="nt">&lt;/TextSymbolizer&gt;</span>
</pre></div>
</div>
<p>This could result in this:</p>
<p><img alt="" src="https://cloud.githubusercontent.com/assets/3618939/10868868/bc94ced6-809c-11e5-9b9d-36c587a4378c.png" /></p>
<p>(See <a class="reference external" href="https://github.com/mapnik/mapnik/issues/3158">#3158</a>)</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, hellowac
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Text Symbolizer</a><ul>
<li><a class="reference internal" href="#configuration-options">Configuration Options</a><ul>
<li><a class="reference internal" href="#options-for-whole-symbolizer">Options for whole Symbolizer</a></li>
<li><a class="reference internal" href="#text-layout-options">Text layout options</a></li>
<li><a class="reference internal" href="#character-formatting-options">Character formatting options</a></li>
<li><a class="reference internal" href="#deprecated-options">Deprecated options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#xml">XML</a></li>
<li><a class="reference internal" href="#python-mapnik-2">Python (Mapnik 2)</a></li>
<li><a class="reference internal" href="#python-mapnik-3">Python (Mapnik 3)</a></li>
<li><a class="reference internal" href="#c">C++</a></li>
</ul>
</li>
<li><a class="reference internal" href="#placements">Placements</a><ul>
<li><a class="reference internal" href="#simple">Simple</a></li>
<li><a class="reference internal" href="#list">List</a></li>
</ul>
</li>
<li><a class="reference internal" href="#new-syntax">New syntax</a></li>
<li><a class="reference internal" href="#alternate-texts-for-upside-down-rendering">Alternate texts for upside down rendering</a></li>
<li><a class="reference internal" href="#new-features-in-mapnik-3-x">New features in Mapnik 3.x</a></li>
<li><a class="reference internal" href="#layouts">Layouts</a></li>
<li><a class="reference internal" href="#formats">Formats</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=f115507d"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/translations.js?v=beaddf03"></script>
    </body>
</html>